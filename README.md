# 工具箱应用

这是一个基于PyQt6开发的工具箱应用，提供多种实用工具，主要分为文件处理工具和其他工具两大类。

## 项目结构

```
ToolBox/
├── main.py                 # 应用主入口文件
├── database.py             # 数据库操作公共模块
├── config.json             # 工具配置文件
├── toolbox.db              # SQLite数据库文件
├── tools/
│   ├── file_tools/         # 文件处理相关工具
│   │   ├── batch_rename.py             # 批量重命名工具
│   │   ├── get_file_names.py           # 获取文件名列表工具
│   │   ├── remove_extra_newlines.py    # 移除多余空行工具
│   │   ├── replace_in_filenames.py     # 替换文件名中字符工具
│   │   └── search_replace.py           # 文件夹内搜索替换工具
│   └── other_tools/        # 其他工具
│       └── password_manager.py         # 密码管理器工具
└── myenv/                  # Python虚拟环境
```

## 主要文件说明

### 1. main.py

应用的主入口文件，负责初始化和启动整个工具箱应用。

**主要功能：**
- 定义了`ToolBoxApp`主窗口类，创建基于标签页的工具界面
- 从`config.json`加载工具配置信息
- 动态导入和实例化各个工具类
- 提供工具按钮点击事件处理
- 实现窗口大小调整时的布局自适应

### 2. database.py

数据库操作公共模块，提供SQLite数据库的全局引入和公共方法。

**主要功能：**
- 定义`DatabaseManager`类，封装数据库连接和操作
- 提供常用的数据库操作方法：查询、非查询、批量执行、创建表、删除表等
- 实现表存在性检查、获取表列表、获取表列信息等功能
- 创建全局数据库管理器实例，导出公共函数供其他模块使用

### 3. config.json

工具配置文件，定义了应用中包含的所有工具及其基本信息。

**主要内容：**
- 每个工具的名称、描述、所属分组
- 工具对应的Python模块路径和类名
- 按分组组织工具，支持动态扩展

## 工具模块说明

### 文件处理工具

#### 3.1 batch_rename.py

批量重命名工具，主要用于格式化文件名（如添加书名号）。

**主要功能：**
- 选择目标文件夹
- 自动为文件名添加书名号格式（《》）
- 显示操作日志和结果统计

#### 3.2 get_file_names.py

获取文件名列表工具，用于提取指定目录下的所有文件名。

**主要功能：**
- 选择目标文件夹
- 显示文件夹下所有文件名
- 支持去除文件后缀选项
- 可将文件名列表导出为TXT文件

#### 3.3 remove_extra_newlines.py

移除多余空行工具，用于规范化文件中的空行。

**主要功能：**
- 选择目标文件夹
- 支持文件类型筛选和包含子文件夹选项
- 预览文件中空行情况
- 将多个连续空行替换为单个空行

#### 3.4 replace_in_filenames.py

替换文件名中字符工具，用于批量修改文件名中的特定字符。

**主要功能：**
- 选择目标文件夹
- 设置查找和替换文本
- 支持文件类型筛选、区分大小写、包含子文件夹等选项
- 提供替换预览功能
- 执行批量文件名替换操作

#### 3.5 search_replace.py

文件夹内搜索替换工具，用于在多个文件中批量搜索和替换文本内容。

**主要功能：**
- 选择目标文件夹
- 设置查找内容和替换内容
- 支持文件类型筛选、区分大小写、使用正则表达式、包含子文件夹等选项
- 预览匹配结果，显示匹配数量和上下文
- 执行批量文本替换操作

### 其他工具

#### 4.1 password_manager.py

密码管理器工具，用于安全存储、管理和生成密码。

**主要功能：**
- 基于主密码的加密保护机制
- 使用AES-256-CBC加密算法保护存储的密码
- 密码的添加、编辑、删除和查看功能
- 密码生成器，支持自定义复杂度

## 安装与使用

1. 确保已安装Python 3.13或更高版本
2. 安装必要的依赖：
   ```
   pip install PyQt6 cryptography
   ```
3. 运行主程序：
   ```
   python main.py
   ```

## 注意事项

- 密码管理器使用主密码进行保护，请妥善保管主密码
- 在使用文件处理工具前，建议先备份重要文件
- 所有工具操作均在本地执行，不会上传任何数据到网络

## 扩展开发

要添加新工具：
1. 在相应的工具目录下创建新的Python文件
2. 实现一个继承自QDialog的工具对话框类
3. 在config.json中添加新工具的配置信息
4. 重启应用后，新工具将显示在对应的分组标签页中